<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="fg-head">
<meta charset="ISO-8859-1">
<title>JiBUS</title>
<link rel="icon" href="favicon.ico" />
<script src="/webjars/bootstrap/5.2.3/js/bootstrap.bundle.min.js"></script>
<script src="/monwebsocket.js"></script>
<link rel="stylesheet" href="/css/custom.css">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<body>
	<nav th:fragment="fg-header" class="navbar navbar-expand-lg bg-light">
		<div class="container-fluid">
			<h2 class="display-1" th:text="#{jibus}"></h2>
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
				<li class="nav-item"><a class="nav-link active"
					aria-current="page" href="/" th:text="#{menu.synthese}"></a></li>
				<li class="nav-item"><a class="nav-link active"
					aria-current="page" href="vehicles" th:text="#{menu.vehicles}"></a></li>
				<li class="nav-item"><a class="nav-link active"
					aria-current="page" href="trames" th:text="#{menu.persistence}"></a></li>
			</ul>
		</div>
	</nav>
	<div class="container mt-2" th:fragment="natures">
		<div class="card">
			<div class="card-header" th:text="#{listenatures}"></div>
			<div class="card-body">
				<table class="table">
					<thead>
						<tr>
							<th th:text="#{natures}"></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="p:${natures}">
							<td th:text="${p.name()}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="container mt-2" th:fragment="canaux">
		<div class="card">
			<div class="card-header" th:text="#{listecanaux}"></div>
			<div class="card-body">
				<table class="table">
					<thead>
						<tr>
							<th th:text="#{canaux}"></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="p:${canaux}">
							<td th:text="${p}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="container mt-2" th:fragment="fg-capteurs">
		<div class="card">
			<div class="card-header">
				<h5 th:text="#{listecapteurs}">
					<span
						class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success"
						th:text="${capteurs.size()}"></span>
				</h5>
			</div>
			<div class="card-body">
				<table class="table">
					<thead>
						<tr>
							<th th:text="#{nom}"></th>
							<th th:text="#{type}"></th>
							<th th:text="#{adresse}"></th>
							<th th:text="#{port}"></th>
							<th th:text="#{lsdv}"></th>
							<th th:text="#{etat}"></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="p:${capteurs}">
							<td th:text="${p.getName()}"></td>
							<td th:text="${p.getInfo()}"></td>
							<td th:text="${p.getAdresse()}"></td>
							<td th:text="${p.getPort()}"></td>
							<td th:text="${p.getLastInfo()}"></td>
							<td><span
								th:class="'badge '+${p.getEtat().name()=='ARRETE'?'text-bg-danger':(p.getEtat().name()=='ERREUR'?'text-bg-warning':'text-bg-success')}"
								th:text="#{'etat.'+${p.getEtat()}}"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>